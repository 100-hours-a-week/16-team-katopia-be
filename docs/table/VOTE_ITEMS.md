# vote_items

## 1. 테이블 설명

투표 항목(이미지)과 득표수를 저장하는 테이블입니다.  
투표 1건에 2~5개의 항목이 존재하며, 항목 순서는 `sort_order`로 관리합니다.

### 연관관계
- vote(1):vote_items(N) {N: 2 ~ 5}

## 2. 기능적 역할

- 투표 항목 이미지/순서 제공
- 항목별 득표수 집계

## 3. 컬럼 정의

| No | 컬럼 | 타입 | 제약 | 설명 | 설계 근거 |
| --- | --- | --- | --- | --- | --- |
| 1 | id | BIGINT | pk, nn | 항목 식별자 | 대리키 |
| 2 | vote_id | BIGINT | fk, nn | 투표 ID | 부모 투표 식별 |
| 3 | image_object_key | VARCHAR(1024) | nn | 이미지 키 | S3 오브젝트 키 |
| 4 | sort_order | TINYINT | nn | 항목 순서 | UI 표시 순서 |
| 5 | fit_count | BIGINT | nn, default 0 | 득표수 | 참여 시 증가 |

## 4. 인덱스 정의 및 근거

| 인덱스 정의 | 사용 근거 |
| --- | --- |
| `uk_vote_items_vote_order (vote_id, sort_order)` | 투표 항목 순서의 정합성을 보장하기 위한 최소 비용의 제약(동일 투표 내 sort_order 중복 방지). 앱 정렬은 가능하지만, DB에서 중복을 차단해 데이터 무결성을 보장함. |

## 5. 향후 확장성 고려

| 확장 | 방안 |
| --- | --- |
| 항목 메타데이터 확장 | 텍스트 설명/카테고리 컬럼 추가 |
| 득표 유형 확장 | 추가 집계 컬럼 도입 |
