# vote_participations

## 1. 테이블 설명

사용자가 특정 투표에 참여했는지 여부를 저장하는 테이블입니다.  
동일 사용자/투표 중복 참여는 유니크 제약으로 차단합니다.  

### 연관관계
- vote(1):vote_participations(N)

## 2. 기능적 역할

- 중복 참여 차단
- 결과 조회 권한 판단

## 3. 컬럼 정의

| No | 컬럼 | 타입 | 제약 | 설명 | 설계 근거 |
| --- | --- | --- | --- | --- | --- |
| 1 | id | BIGINT | pk, nn | 참여 기록 ID | 대리키 |
| 2 | vote_id | BIGINT | fk, nn | 투표 ID | 투표 식별 |
| 3 | member_id | BIGINT | fk, nn | 참여자 ID | 중복 참여 차단 |
| 4 | completed_at | DATETIME | nn | 참여 완료 시각 | 감사/정책 근거 |

## 4. 인덱스 정의 및 근거

| 인덱스 정의 | 사용 근거 |
| --- | --- |
| `uidx_vote_participations_vote_member (vote_id, member_id)` | 동일 사용자의 중복 참여를 DB 레벨에서 차단해 정합성을 보장하고, 중복 요청/재시도/동시성 상황에서도 1회 참여 정책을 유지하기 위한 최소 비용 제약 |

## 5. 향후 확장성 고려

| 확장 | 방안 |
| --- | --- |
| 항목별 선택 로그 | 별도 로그 테이블 추가 |
| 다중 회차 투표 | 회차 컬럼 추가 |
